<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="UTF -8">
    <meta name="viewport" content ="width =device-width, initial-scale=1.0">
    <title>Data Visualisations</title>

    <!-- Vega-Lite and Vega Embed scripts -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>

    <!-- CSS file -->
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <header>
      <nav class="navbar">
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#Choropleth">Choropleth</a></li>
            <li><a href="#plot1">Bubble</a></li>
        </ul>
    </nav>
    </header>

    <section id="intro">
      <div class="main">
          <h1 class="headings">WORLD'S </h1>
          <p class="phead">Life Expectancy and factors affecting them</p>
          <p class="pbody">This visualisations explores which Countries up to 2020 
              have the highest life expectancy and how does this correlate with their respective nation's GDP.
          </p>
      </div>
    </section>

    <section id="Choropleth">
      <h2 class="heading">Life Expectancy of Countries</h2> <br><br><br>
      <div id="map">
          <div id="choropleth_map"></div>
          <div id="map_des">
            <p>The captivating <span class="custom_bold">Choropleth Map</span> below displays the <span class="custom_bold">Life Satisfaction</span> of countries worldwide. 
              It uses a color spectrum from deep blue <span class="custom_bold">(indicating lower life expectancy)</span> to vibrant red <span class="custom_bold">(representing very high life expectancy)</span>.
               This striking visualization highlights the remarkable disparities in life expectancies across the globe. 
               Notably, countries in <span class="custom_bold">North America, Europe, East Asia, and Oceania</span> tend to have the highest life expectancies, while many countries in <span class="custom_bold">Africa and South Asia</span> experience lower life expectancies.</p>
          </div>
      </div>
    </section>


    <section id="plot1">
      <h2 class="heading">Life Expectancy vs GDP of Countries</h2>
      <div id="bubble">
          <div id="bubble_des">
              <p>The visualization you provided is a <span class="custom_bold">scatter plot of life expectancy vs. GDP per capita</span> for countries around the world. 
                The data is <span class="custom_bold">up to 2020</span>.

                The x-axis shows GDP per capita, which is a measure of a country's economic output per person. The y-axis shows life expectancy, which is the average number of years that a person is expected to live.
                
                <br><br>The plot shows a <span class="custom_bold">clear positive correlation</span> between GDP per capita and life expectancy. 
                This means that, in general, countries with higher GDP per capita also have higher life expectancy.
                
                <br><br>There are a few outliers to this trend. For example, <span class="custom_bold">Cuba</span> has a relatively high life expectancy (79.2 years) despite a relatively low GDP per capita (10,340 international dollars). 
                This is likely due to Cuba's strong public health system.
                
                <br><br>Another outlier is the <span class="custom_bold">United States of America</span>. The US has a relatively high GDP per capita (63,416 international dollars), 
                but its life expectancy (76.1 years) is lower than many other developed countries. This is likely due to a number of factors, 
                such as the US's <span class="custom_bold">high rates of obesity, diabetes, and gun violence</span>.
                
                <br><br>Overall, the visualization shows that there is a strong relationship between GDP per capita and life expectancy. 
                This suggests that economic development can lead to improvements in health and well-being.</p>
          </div>
          <div id="bubble_plot"></div>
      </div> 
      
      
  </section>

  <section id="plot2">
    <h2 class="heading">BMI vs Life Expectancy</h2>
    <div id="linear">
        <div id="linear_reg"></div>
        <div id="linear_des">
            <p>
              The visualization shows a scatter plot of <span class="custom_bold">Body Bass Index (BMI) vs. Life Expectancy</span>. 
              The <span class="custom_bold">R-squared value of 0.03</span> indicates that there is a <span class="custom_bold">very weak correlation</span> between the two variables.
              <br><br>
              The overall trend of the graph shows that life expectancy decreases slightly as BMI increases. 
              However, there is a lot of variation in the data, and there are many people with high BMIs who have long life expectancies.
              <br><br>
              The graph also shows that people with very low BMIs (underweight) have a lower life expectancy than people with normal BMIs. This is likely due to the fact that underweight 
              people are more likely to have <span class="custom_bold">malnutrition</span> or other health problems.
              <br><br>
              Overall, the graph suggests that there is a <span class="custom_bold">complex relationship</span> between BMI and life expectancy. 
              Many other factors, such as <span class="custom_bold">genetics, lifestyle</span> and <span class="custom_bold">access to healthcare</span>, 
              also play a role in determining how long a person lives.
            </p>

        </div>
    </div> 
    <div>
      <button id="back-to-top"></button>
        <p>This visualisation is created by <a href ="https://github.com/Aphr0dite1">Khoo Cheok Mun</a> The data is from multiple files found on <a href ="https://www.kaggle.com/" target="_blank">Kaggle</a></p>
    </div>

    
</section>



  <script type="text/javascript">
  var spec2 = "https://raw.githubusercontent.com/Aphr0dite1/FIT3179/main/ChoroplethLifeEx.vg.json";
  vegaEmbed('#choropleth_map', spec2,{"actions": false}).then(function(result) {
  // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
  </script>

  <script type="text/javascript">
    var spec1 = "https://raw.githubusercontent.com/Aphr0dite1/FIT3179/main/bubble_plot.vg.json";
    vegaEmbed('#bubble_plot', spec1,{"actions": false}).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
  </script>

  <script type="text/javascript">
    var spec3 = "https://raw.githubusercontent.com/Aphr0dite1/FIT3179/main/linear_reg.vg.json";
    vegaEmbed('#linear_reg', spec3,{"actions": false}).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);
  </script>

  <script>
    // Get a reference to the button element
    var backToTopButton = document.getElementById('back-to-top');
    // Add a scroll event listener
    window.addEventListener('scroll', function() {
        // Check if the user has scrolled down 300 pixels from the top
        if (window.pageYOffset > 300) {
            // If yes, show the button
            backToTopButton.style.display = 'block';
        } else {
            // If no, hide the button
            backToTopButton.style.display = 'none';
        }
    });
    // Add a click event listener to scroll to the top when the button is clicked
    backToTopButton.addEventListener('click', function() {
        // Scroll to the top of the page smoothly
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
</script>
</body>
</html>